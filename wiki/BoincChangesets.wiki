#summary Tracking BOINC revisions

== Pending merge ==

|| *Changesets* || *Additional comments* ||
||15767||Need to review this mess carefully. (Vista and probably Win7 stuff)||
||15827||Screensaver stuff hidden in there.||
||15831||Manifest files?||
||15840/15874/15877/15885/15967/16001/16252/16253/16372/16385||Screensaver mess||
||15929||Precompiled headers work for the manager, but do they work for the client/lib/etc (windows only)?||
||15945||Do we need the screensaver stuff? The other fix is already applied.||
||15955/15957/15958/15960/15961/15963/15965||Code signing stuff.||
||15959/15964/15966||MGR: Save and restore selected items by key values when refreshing||
||15987||MGR: Simple GUI fixes||
||16208||client: new config flags||
||16280||MGR: Add a new tab status to the Simple GUI for when the client has been instructed to delay starting applications via the <delay_start> option in cc_config.xml (From Kevin Reed)||
||16327||MGR: If simple_gui_only flag is set in cc_config.xml, trigger call of CSimpleFrame::!OnConnect()||
||16336/16337/16347||MGR: When removing a row from sorted lists, refresh all rows to ensure proper display update _Does anyone know which bug is fixed by this changeset? Do we need it?_||
||16352||MGR: Always sort after a row is added or deleted.||
||16355/16400||client: the preemptability order was wrong||
||16356||client: cleaned up CPU scheduler logic somewhat||
||16366/16383/16386/16391||client: revise round-robin simulation to take variable avg_ncpus into account _I'm not sure if we need this or if this change works with our ncpu-fix._||
||16395/16396||client: fix bug that caused occasional assert in pop_heap() for the preemptable_task_list.||
||16405/16413/16414/16417/16419/16421/16428/16429/16446/16448/ 16450/16462/16472/16473||MGR: Create an Exit dialog for the Manager. / Allow the manager to shutdown the CC even when it was installed as a daemon.||
||16406/16415/16420/16426/16427/16434||MGR: Provide a way to enable/disable launching from the BOINC Manager at startup from within the BOINC Manager itself.||
||16432/16433||client: make host CPID a function of: MAC addresses + hostname + IP addr + OS name||
||16479||API: free project prefs before parsing init file||
||16484||MGR: Erase and refresh entire Tasks panel when selecting a new tab to try to fix cosmetic bug reported by David on Windows _Which bug? Is it caused by the RPC thread?_||
||16488||SVCCTRL: Introduce a new binary that is used to start and stop the BOINC service, if it is installed as a service. _Looks like this is only needed for service install on Vista. Do we support/need this?_||
||16539||manager: tweak strings in Options dialog||
||16545||client: in round-robin simulation, only increment CPU shortfall (per-project or overall) if there are no pending tasks.||
||16548||DIAG: On Windows move the symbol store directory under the BOINC data directory structure. _NOTE: Stackwalker still uses boinc.berkeley.edu as server!_||
||16557/16558||MGR: Make the error message processing work for the get_project_config rpc, use the same scheme as the ACCOUNT_OUT structure.||
||16565||client: Fix error from changeset 14415 which caused Mac client to call daemon() if it was passed -daemon argument, causing problems using launchd with !KeepAlive option; fixes #782.||
||16582||MGR: fix exit dialog so that both the Mac and Linux clients don't display the 'close core client...' checkbox.||
||16616||client: parse checkpoint_elapsed_time from state file; if missing, use checkpoint CPU time.||
||16653||Mac SG: Remove ugly hack added 8/20/07 for slide show alignment problem on Mac.||
||16654||Mac SG: Fix vertical position of project names in tabs on Mac.||
||16670/16671||MGR: word-wrap !CompletionBrandedMessage static text in Account manager Wizard Completion page for !GridRepublic.||
||16707||MGR: Always reset messages if client restarted; always scroll messages to bottom if connection status changes; Select Computer: localhost relaunches client if needed.||
||16929||client: fix boinc_copy (again); Mac Mgr: fix bugs showing Mgr when minimized to Dock;||
||16998||client: clear debts when reset project||
||17063/17065/17075||MGR: Add a list of account managers. It's included in all_projects_list.xml. As we don't use BOINC's xml file we should either put the account manager list into a separated file or fix the structure of the file. BOINC currently treats account managers as projects in this file, which is wrong.||
||17070||client: if user requests RPC, do it even if project is backed off _NOTE: The change needs to be done in work_fetch.C for synecdoche. BOINC moved the affected function from work_fetch.cpp to cs_scheduler.cpp some time ago._||
||17142||MAC MGR: Use symbolic file name GUI_RPC_PASSWD_FILE for gui_rpc_auth.cfg.||
||17195||client: add SCHEDULER_OP::rpc_failed(); this gets called when the op fails, either at initialization or later on; it clears the project's sched_rpc_pending flag if needed. This fixes a bug that caused user-requested RPCs to retry every 10 seconds when the network is down.||
||17196||client: if master file doesn't have URLs, clear RPC request||
||17269||client: fix bug where master fetch failure doesn't clear request flag, leading to infinite retry without backoff (17195 needs to be applied before this one)||
||17300/17301/17375||client: adjust debts at least every minute. This fixes a bug that can cause debts to NEVER get updated. /  client: added "abort_jobs_on_exit" feature||
||17309/17311/17312/17213||client: add more info to <work_fetch_debug> messages||
||17310||client: don't complain that master URLs differ if it's only in case _NOTE: *Only* the domain name is case insensitive - this changeset needs to be fixed before beeing applied._||
||17379||boinccmd: fix bug in --set_proxy_settings command (it wasn't setting the "use_XXX" flags). Fixes #776 / client: you can now include a <proxy_info> element in your cc_config.xml options.||
||17385||MGR: Remove the /s parameter from the argument list on Linux until we know it is supported. Fixes #615||
||17388||_A lot of different, partly unrelated fixes that need to be reviewed carefully one by one before applying any of these._||
||17389||client: if you put <host_venue> in global_prefs_override.xml, it should select the venue from the network prefs. Now it does.||
||17391||API: file descriptor leak in obscure case. fixes #103||
||17396||client: make timeout values into #defines _Note: The defines should be turned into constants before applying this changeset._||
||17399||client: abort jobs that are unstarted and past deadline||
||17403||small fixes _What exactly is fixed by this changeset? When were these bugs (if any) introduced? Do we need this?_||
||17404|| client: shuffle the startup code to avoid showing wrong prefs info on first-time startup. / client: don't do an RPC until we've done CPU benchmarks. We need the benchmark values to fill in app_version.flops||
||17407||boinccmd: make --get_messages output more readable||
||17409||manager: fix roundoff error in Advanced Prefs; fixes #613 _Note: This is not a real fix but a simple workaround._||
||17410||MGR: Make CTRL-SHIFT-A the accelerator in the simple GUI that switches back to the advanced view. refs #147||
||17432/17434/17436/17438||client: Revise Apple idle time detection for compatibility with OS 10.6||
||17456/17467||manager: when filtering messages by project, show messages not tagged with a project (fixes #852)||
||17486/17487||client: change garbage-collect logic. old: reference-count files involved in a PERS_FILE_XFER new: if a PERS_FILE_XFER refers to an unreferenced file, delete it (and the associated FILE_XFER and HTTP_OP if present) May fix #366||
||17507||client: if using anonymous platform, ignore (and complain about) app versions in scheduler reply client: when reporting anonymous platform apps in sched request, don't include <file_info>s (not relevant to server)||
||17511||MGR: Remove previous implementations of the already attached to projects detection code. MGR: Prevent the user from progressing beyond the project selection page if they are already attached to the project they are trying to attach to. Display a dialog box telling they are already attached to that project and to choose a different project. This skips a bunch of steps if they meant to attach to a different project. _NOTE: See issue #39 before applying this one._||
||17561||MGR: Fix a long standing bug where the pie control in the disk usage tab was being created but a default pie part wasn't being added to the control. This caused the control to display black circles during window initialization on slower systems. This issue has been around since we started using the pie control based disk usage tab.||
||17564/17565/17590/17591/17592||_Multiple fixes for the Manager._||
||17567||Mac MGR: Do !RestoreState() before Show() so Disk tab doesn't flash briefly on manual launch.||
||17617||In linux client, Added code to detect capability to run 64-bit binaries from 32-bit BOINC client, and capability to run 32-bit binaries on a 64-bit linux system. _This one might need some cleanup before applying._||
||17637||client: initial support for detecting the CPU L2 cache size on Windows.||
||17639|| client: add --no_priority_change cmdline arg (and <no_priority_change> flag in cc_config.xml). If set, run apps at same priority as client.||
||17644||client: garbage collect after scheduler RPC; if project sent some irrelevant FILE_INFOs, this will avoid starting transfers for them.||
||17648||client (linux): if don't find libcudart.so in the current dir, look for it in the library search path. Fixes #863||
||17711||client: (unix): if host name lookup fails, call res_init(). This is an attempt to fix a problem on Linux where, if the client starts before a VPN is set up, it can never communicate||
||17765/17831/17838||client: for each app version, keep track of the largest WSS of tasks using it. In checking whether tasks fit in RAM, use this as an estimate for tasks that haven't started yet. This avoids a situation where the client starts a lot of tasks in sequence, only to find that each one doesn't fit in RAM.||
||17814||client: eliminate the need to write the state file on each checkpoint. Instead, write the info into a file in the slot directory, and check for these files on startup. This should reduce the overhead of state-file writing on machines with lots of cores. There will still be a flurry of writes each time a job finishes, but reducing that overhead would be a larger job. / client: make sure we write the state file after a failed RPC||
||17826/17846||Mac MGR: Add keyboard shortcuts command-shift-S, command-shift-A to switch views||
||17843||client: if detach a project, adjust debts and trigger CPU sched and work fetch||
||17847||client: improve CPU sched debug messages (say what kind of job and why we're scheduling it)||
||17874||client: message tweak||
||17955||Turn GetViewName? into the unlocalized version of the view name. _See issue 48._||
||17992/17998||client: simplify enforce_schedule(), and maybe fix bugs. _NOTE: Review this carefully before applying!_||
||18028||client: write message (and show new config info) when config file reread / client: improve cpu_sched_debug messages||
||18042||client, Mac: don't do res_init(). It causes a crash. / client (Unix): if client crashes while benchmark processes are going, make sure they detect this and exit. _NOTE: 17711 needs to be applied before this one._||
||18054||Mac client: fix parent died test in benchmark_time_to_stop()||


== Changesets for the new OpenGL screensaver (Might be useful some day) ==
||17128||Checkin the files needed for the new OpenGL based BOINC screensaver.||
||17131||renamed boinc_ss_opengl to ss_app.||
||17141/17144||SS: Begin work on upgrading screensaver coordinator for new functionality: add file names, sandbox security||
||17146/17147||SS: Implement basic new functionality in screensaver coordinator (tested on Mac only so far)||
||17148||SS: Add ss_app to XCode Project, with a temporary icon||
||17162||screensaver: flesh out new SS a bit||
||17163/17164/17165/17167||SS: Fix ss_app compile errors on Mac, continue work on screensaver coordinator||
||17168||SS: Screensaver coordinator reads ss_config.xml file; if default ss ran during science phase, shorten next default phase||
||17193/17194||SS: Fix new screensaver coordinator to work properly on Windows||
||17199/17204/17205||tweak screensaver||
||17201||SS: Fix new screensaver coordinator sandbox permissions||
||17202||ss_app: Replace temporary icon with standard BOINC icon||
||17217/17221||screensaver tweaks||
||17218/17219/17220||ss_app: Remove code which adds a Mac icon, restore previous permissions for boincscr||
||17222||ss_app: Change Windows build executable file name to boincscr.exe||
||17223/17224/17225||SS: Minor fix to screensaver coordinator||
||17255||ss_app: Under sandbox security, set boincscr permissions the same as for BOINC Manager||
||17256||SS: On Windows, get paths to BOINC data and executable directories from Windows registry||
||17273||SS: On Windows, make path strings Unicode compatible in ss coordinator||
||17302/17303||screensaver||
||17321||screensaver: Implement --test and --retry_connect command-line arguments as requested by Rom||
||17322||screensaver: Implement new screensaver coordinator logic as requested by Rom.||
||17336||WINSCR: Fix the BOINC text displayed is the screensaver control panel applet / WINSCR: [...]||
||17339/17340/17346/17349||screensaver: Code consolidation, fix bug terminating default graphics app on screensaver exit||
||17370/17393||WINSCR: Remove unneeded header files SCR: Shuffle headers around so that it'll build on both Windows and Mac without having to put in duplicate entries.||
||17405/17406||screensaver: show correct info if CPU throttling; show correct window title; show "no projects" message.||
||17408||screensaver: remove error codes & messages handled by new default gfx app, add new error codes; better logic when coordinator window covered on Mac||
||17444||WINSCR: fix a bug. Mac screensaver: logic to stop Data Management thread even if hung on an RPC.||
||17646||new screensaver: don't show jobs if suspended||
||17720||SS: Under Mac Sandbox security, gfx_switcher launches default ss app as user and group boinc_master; don't setgid boincscr||
||17722/17723||SS: Under Mac Sandbox security, terminate default screensaver graphics app via gfx_switcher||
||17728/17731||WINSCR: It appears newer notebook models with multiple video chipsets exhibit an interesting situation. It appears as though in certain conditions a single monitor machine actually reports itself as having three monitors. Normally the monitor that contains the primary window (coord 0,0) is on monitor 0, but on these machines coord 0,0 is actually on monitor 2. This led to the screensaver not properly exiting when keyboard and/or mouse activity was detected. Now when we detect that keyboard and/or mouse activity has happened we send the WM_INTERRUPTSAVER event to all windows on all monitors.||
||17815||SS: launch default screensaver graphics app as user and group boinc_project, not boinc_master||



== Rejected changes ==

Changesets that are irrelevant to Synecdoche are not shown. Some decisions listed here make subsequent changesets irrelevant.

|| *Changeset* || *Reason* ||
||[http://boinc.berkeley.edu/trac/changeset/15537 15537]||Properties. This feature is nowhere near ready.||
||[http://boinc.berkeley.edu/trac/changeset/15559 15559]||Message filtering. This is not a good UI for filtering.||
||[http://boinc.berkeley.edu/trac/changeset/15561 15561]||Already fixed.||
||[http://boinc.berkeley.edu/trac/changeset/15568 15568]||Concatenated strings.||
||[http://boinc.berkeley.edu/trac/changeset/15573 15573]||Solaris. This addition appears to be in the wrong file.||
||[http://boinc.berkeley.edu/trac/changeset/15574 15574]||Already fixed. Correctly!||
||[http://boinc.berkeley.edu/trac/changeset/15764 15764] `*`||API||
||[http://boinc.berkeley.edu/trac/changeset/15585 15585]||Undocumented. This will be moot when we use wxTaskBarIcon.||
||[http://boinc.berkeley.edu/trac/changeset/15587 15587]||Event ids. This is pointless. See r75.||
||[http://boinc.berkeley.edu/trac/changeset/15588 15588]||Solved better in r76. Ours won't cycle the logs if an error is logged when parsing the config file.||
||[http://boinc.berkeley.edu/trac/changeset/15591 15591]||CUDA. We don't support this yet.||
||[http://boinc.berkeley.edu/trac/changeset/15610 15610]||Reboot. This is just wrong.||
||[http://boinc.berkeley.edu/trac/changeset/15690 15690]||Already fixed.||
||[http://boinc.berkeley.edu/trac/changeset/15693 15693] `*`||API||
||[http://boinc.berkeley.edu/trac/changeset/15694 15694] `*`||API||
||[http://boinc.berkeley.edu/trac/changeset/15793 15793]||Already fixed in r171.||
||[http://boinc.berkeley.edu/trac/changeset/15801 15801]||Already fixed in r152. Correctly!||
||[http://boinc.berkeley.edu/trac/changeset/15808 15808]||Already fixed in r194.||
||[http://boinc.berkeley.edu/trac/changeset/15850 15850]||Proposed async solution is not typesafe. Grid view was already fixed (removed).||
||[http://boinc.berkeley.edu/trac/changeset/15891 15891]||Useless and already fixed correctly||
||[http://boinc.berkeley.edu/trac/changeset/15920 15920]||Already fixed in r265.||
||[http://boinc.berkeley.edu/trac/changeset/15942 15942]||Already fixed in r265.||
||[http://boinc.berkeley.edu/trac/changeset/15944 15944]||Already fixed in r236.||
||[http://boinc.berkeley.edu/trac/changeset/15948 15948]||Already fixed in r298.||
||[http://boinc.berkeley.edu/trac/changeset/15970 15970]||Flickering of the MGR - Some additional changesets: 15978/15981/15990/15991/15993/15994/15995/15996/15998/16006/16185||
||[http://boinc.berkeley.edu/trac/changeset/16029 16029]||WCG "feature" for the wizards. No need for that.||
||[http://boinc.berkeley.edu/trac/changeset/16038 16038] `*`||API: Fix for boinc_exit()||
||[http://boinc.berkeley.edu/trac/changeset/16061 16061] `*`||Exclude list for proxy. Useful feature but bad implementation. Additional changesets: 16066||
||[http://boinc.berkeley.edu/trac/changeset/16087 16087] `*`||"exclusive app" feature. Additional changesets: 16084/16085/16090/16175/16354/16552||
||[http://boinc.berkeley.edu/trac/changeset/16095 16095]||RPC calls are not obsolete just because the official manager does not use them any more.||
||[http://boinc.berkeley.edu/trac/changeset/16118 16118]||Sample wrapper, useless Makefile fix, debug code already removed in r254||
||[http://boinc.berkeley.edu/trac/changeset/16119 16119]||Already fixed.||
||[http://boinc.berkeley.edu/trac/changeset/16130 16130]||Documentation fixes for doxygen||
||[http://boinc.berkeley.edu/trac/changeset/16188 16188]||Report job resources even when no active task. Coproc feature.||
||[http://boinc.berkeley.edu/trac/changeset/16268 16268]||Already fixed in r449.||
||[http://boinc.berkeley.edu/trac/changeset/16357 16357]||There is no need for this mess (except the change for rr_sim.cpp).||
||[http://boinc.berkeley.edu/trac/changeset/16358 16358]||Already fixed in r72.||
||[http://boinc.berkeley.edu/trac/changeset/16560 16560]||No need for this new page and account key page already removed in r526.||
||[http://boinc.berkeley.edu/trac/changeset/16754 16754]||Another useless hack: "new work fetch logic". Additional changesets: 16755/16756/16765||
||[http://boinc.berkeley.edu/trac/changeset/16900 16900]||Adds platform information to the project list used when attaching to a new project. Platforms should be checked directly at the project not in a file maintained by boinc.berkeley.edu. Additional changesets: 16903/16905||
||[http://boinc.berkeley.edu/trac/changeset/17056 17056]||client: remove the deadlines_missed" and "overworked" clauses - keeping them seems to be the better solution.||
||[http://boinc.berkeley.edu/trac/changeset/17067 17067]||MGR: Provide a way for skin creators to suppress error messages for missing resources. - This is obsolete, see changeset 17080.||
||[http://boinc.berkeley.edu/trac/changeset/17076 17076]||MGR: Filter project list so that it shows only projects supported by the core client. This relies on an up-to-date all_projects_list.xml instead of asking the projects about supported platforms. Additional changesets: 17077/17143||
||[http://boinc.berkeley.edu/trac/changeset/17078 17078]||Looks like we didn't break this.||
||[http://boinc.berkeley.edu/trac/changeset/17212 17212]||Already fixed in r575. Additional changesets: 17213/17214||
||[http://boinc.berkeley.edu/trac/changeset/17335 17335]||Already fixed in r650 and r651.||
||[http://boinc.berkeley.edu/trac/changeset/17394 17394]||Already fixed in r511.||
||[http://boinc.berkeley.edu/trac/changeset/17398 17398]||See comments in [http://boinc.berkeley.edu/trac/ticket/852 #852]||
||[http://boinc.berkeley.edu/trac/changeset/17512 17512]||Seems to work correctly even without this changeset.||
||[http://boinc.berkeley.edu/trac/changeset/17519 17519] `*`||Setting a fixed size seems to be a bad solution - Aren't there any better solutions?||
||[http://boinc.berkeley.edu/trac/changeset/17542 17542]||This should not be needed. Looks like the faulty changes were not merged and are not on the pending list. Additional changeset: 17560||
||[http://boinc.berkeley.edu/trac/changeset/17501 17501]||As jm7 noted on boinc_dev on 03/15/2009 this factor is there for a good reason.||
||[http://boinc.berkeley.edu/trac/changeset/17208 17208]||Obsolete due to r706. Additional changesets: 17209/17270||
||[http://boinc.berkeley.edu/trac/changeset/17596 17596]||We don't need these tabs, do we?||

`*` These changesets may still be needed.

Reviewed up to: [http://boinc.berkeley.edu/trac/changeset/18056 18056]
